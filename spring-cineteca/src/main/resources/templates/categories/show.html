<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <div th:replace="~{fragments/resources :: headTags}"></div>
    <title>Categoria: [[${category.name}]]</title>
</head>

<body>
    <nav th:replace="~{fragments/navbar :: navbar('Dettaglio categoria')}"></nav>
    <div class="filler"></div>
    <main class="container p-4" th:object="${category}">
        <div class="card detail-card rounded-4 bg-dark text-light" th:object="${category}">
            <div class="card-header card-header-custom rounded-top-4">
                <h1 class="card-title text-center fw-bold mb-0 text-dark" th:text="*{name}" />
            </div>
            <div class="card-body p-5">
                <hr />
                <p class="card-text">
                <h6 class="fw-bold">Descrizione:</h6>
                <span th:text="*{description}"></span>
                </p>
                <div class="mb-3" th:if="*{films.size() > 0}">
                    <h6 class="mt-3">Film collegati ([[*{films.size()}]]):</h6>
                    <ul class="list-unstyled">
                        <li th:each="film : *{films}">
                            <a class="filmLink" th:href="@{/films/{id}(id=${film.id})}">[[${film.title}]]</a>
                        </li>
                    </ul>
                </div>
                <div th:unless="*{films.size() > 0}">
                    <h6 class="mt-3">Nessun film collegato.</h6>
                </div>
                <div class="d-flex justify-content-between mt-4">
                    <a th:href="@{/categories/edit/{id}(id = *{id})}"
                        class="btn btn-outline-warning rounded-pill">Modifica</a>
                    <form class="d-inline-block" th:action="@{/categories/delete/{id}(id=${category.id})}" method="post"
                        th:onsubmit="return confirm('Eliminazione categoria: Sei sicuro di voler eliminare ' + [[${category.name}]] + '?')">
                        <button type="submit" class="btn btn-outline-danger rounded-pill">
                            Elimina
                        </button>
                    </form>
                    <a th:href="@{/categories}" class="btn btn-outline-light rounded-pill">Torna alla lista</a>
                </div>
            </div>
        </div>
    </main>
    <div th:replace="~{fragments/resources :: scripts}"></div>
</body>

</html>